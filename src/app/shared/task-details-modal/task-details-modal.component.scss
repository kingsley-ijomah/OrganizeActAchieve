@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.modal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,0.5);
  display: flex; align-items: center; justify-content: center; z-index: 1000;
  padding: 16px; animation: fadeIn 0.2s ease;
}

.modal-content { background: #fff; border-radius: 16px; width: 100%; max-width: 520px; box-shadow: 0 8px 32px rgba(0,0,0,0.2); }
.modal-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid #e0e0e0; }
.modal-title { font-size: 1.25rem; font-weight: 600; margin: 0; color: #1a1a1a; }
.modal-close-btn { width: 36px; height: 36px; border: none; background: transparent; border-radius: 8px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
.modal-close-btn:hover { background: #f0f0f0; }
.modal-close-btn .material-icons { font-size: 22px; color: #666; }

.task-preview { display: flex; align-items: center; gap: 12px; padding: 16px 24px; background: #fafafa; border-bottom: 1px solid #e0e0e0; }
.task-preview .material-icons { color: #4a90e2; }
.task-preview-text { font-weight: 500; color: #1a1a1a; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.details-form { padding: 16px 24px 24px 24px; display: flex; flex-direction: column; gap: 12px; }
.row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.field { display: flex; flex-direction: column; gap: 6px; }
.field-label { font-size: 13px; color: #666; font-weight: 600; }
.text-input, .select-input, textarea { border: 1.5px solid #e0e0e0; border-radius: 12px; padding: 12px 14px; font-size: 16px; outline: none; background: #fff; color: #1a1a1a; transition: all 0.2s ease; }
.text-input:focus, .select-input:focus, textarea:focus { border-color: #4a90e2; box-shadow: 0 0 0 3px rgba(74,144,226,0.1); }

.form-actions { margin-top: 8px; display: flex; justify-content: flex-end; gap: 8px; }
.btn { padding: 12px 16px; border-radius: 12px; border: 1.5px solid #e0e0e0; background: #fff; cursor: pointer; font-weight: 600; }
.btn.primary { background: #4a90e2; border-color: #4a90e2; color: #fff; }
.btn.primary:hover { filter: brightness(0.95); }
.btn.secondary:hover { background: #f0f0f0; }

@media (prefers-color-scheme: dark) {
  .modal-content { background: #2a2a2a; border: 1px solid #3a3a3a; }
  .modal-title, .task-preview-text { color: #fff; }
  .task-preview { background: #333; border-color: #3a3a3a; }
  .text-input, .select-input, textarea { background: #2a2a2a; border-color: #3a3a3a; color: #fff; }
  .text-input:focus, .select-input:focus, textarea:focus { border-color: #5aa0f2; box-shadow: 0 0 0 3px rgba(90,160,242,0.2); }
  .btn { background: #2a2a2a; border-color: #3a3a3a; color: #fff; }
  .btn.primary { background: #5aa0f2; border-color: #5aa0f2; }
}


